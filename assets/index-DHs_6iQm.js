var p=Object.defineProperty;var b=(r,e,i)=>e in r?p(r,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):r[e]=i;var l=(r,e,i)=>b(r,typeof e!="symbol"?e+"":e,i);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function i(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(t){if(t.ep)return;t.ep=!0;const s=i(t);fetch(t.href,s)}})();class a{constructor(e,i){l(this,"block",null);l(this,"cmh",null);l(this,"event",null);l(this,"hideTimeout");this.block=e,this.cmh=i}contextInit(){var e,i;(e=this.cmh)==null||e.addEventListener("click",o=>o.stopPropagation()),(i=this.block)==null||i.addEventListener("contextmenu",o=>{o.preventDefault(),this.event=o,this.openContext()})}tooltipInit(){var e,i,o,t,s,c;(e=this.block)==null||e.addEventListener("mousemove",n=>{this.event=n,this.openContext()}),(i=this.block)==null||i.addEventListener("mouseenter",()=>clearTimeout(this.hideTimeout)),(o=this.block)==null||o.addEventListener("mouseleave",n=>{this.event=n,this.hideTimeout=setTimeout(()=>this.closeContext(),100)}),(t=this.cmh)==null||t.addEventListener("mousemove",n=>{this.event=n,this.cursorInBlockChecker()?this.openContext():this.closeContext()}),(s=this.cmh)==null||s.addEventListener("mouseenter",()=>clearTimeout(this.hideTimeout)),(c=this.cmh)==null||c.addEventListener("mouseleave",n=>{this.event=n,this.hideTimeout=setTimeout(()=>this.closeContext(),100)})}openContext(){if(this.cmh&&this.event){const e=this.event.clientX,i=this.event.clientY;this.cmh.classList.add("active");const o=this.cmh.clientWidth,t=this.cmh.clientHeight;this.getSideHorizontal()==="L"?this.cmh.style.left=`${e-o}px`:this.cmh.style.left=`${e}px`,this.getSideVertical()==="U"?this.cmh.style.top=`${i-t}px`:this.cmh.style.top=`${i}px`}}closeContext(){var e;(e=this.cmh)==null||e.classList.remove("active")}getSideHorizontal(){var t,s;const e=(t=this.cmh)==null?void 0:t.clientWidth,i=(s=this.event)==null?void 0:s.clientX,o=window.innerWidth;return i&&e&&o&&o-(i+e)<5?"L":"R"}getSideVertical(){var t,s;const e=(t=this.cmh)==null?void 0:t.clientHeight,i=(s=this.event)==null?void 0:s.clientY,o=window.innerHeight;return i&&e&&o&&o-(i+e)<20&&o-(o-i)>e?"U":"D"}cursorInBlockChecker(){var n,h,m,d,u,f;const e=(n=this.event)==null?void 0:n.clientX,i=(h=this.event)==null?void 0:h.clientY,o=(m=this.block)==null?void 0:m.offsetLeft,t=(d=this.block)==null?void 0:d.offsetTop,s=(u=this.block)==null?void 0:u.clientWidth,c=(f=this.block)==null?void 0:f.clientHeight;return!!(e&&i&&o&&t&&s&&c&&e>o&&e<o+s&&i>t&&i<t+c)}}const g=document.querySelector(".exemple-block-1"),x=document.querySelector(".cmh-v1"),k=document.querySelector(".exemple-block-2"),y=document.querySelector(".cmh-v2");let v=new a(g,x),L=new a(k,y);v.contextInit();L.tooltipInit();window.addEventListener("click",()=>v.closeContext());
